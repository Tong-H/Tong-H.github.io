<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="keywords" content="没事儿,tong-h,Tong-H,tong-h blog"><meta name="descriptioon" content="personal blog by Tong-H"><meta name="renderer" content="wekit"><link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/css/public.css"><link rel="stylesheet" href="/css/reset.css"><link rel="stylesheet" href="/css/iconfont.css"><title>three.js [ Tong-H ]</title><link rel="stylesheet" href="/css/partial/footer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><link rel="stylesheet" href="/css/partial/sidebar.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><meta name="generator" content="Hexo 5.4.0"></head><body><link rel="stylesheet" href="/css/partial/header.css"><div class="header"><div class="maxwidth"><div class="nav"><a id="artlist" href="/404"><i class="iconfont icon404"></i><span class="headhid">&nbsp;404</span></a><a id="artlist" href="/archives"><i class="iconfont iconarchives"></i><span class="headhid">&nbsp;Archives</span></a><a id="artlist" href="/about"><i class="iconfont iconabout"></i><span class="headhid">&nbsp;About</span></a></div><a class="search" href="/">TONG-H</a></div></div><div class="main"> <div class="maxwidth"><link rel="stylesheet" href="/css/partial/sidebar.css"><div id="sidebar"><div class="social"><a href="/archives" title="Home"><i class="iconfont iconHome"></i></a><a href="mailto:tongt0232@gmail.com" title="E-Mail"><i class="iconfont iconweibiaoti554"></i></a><a target="_blank" rel="noopener" href="https://github.com/tong-h" title="GitHub"><i class="iconfont iconGitHub"></i></a><a target="_blank" rel="noopener" href="https://juejin.cn/user/1204720474809741" title="juejin"><img src="/images/juejinicon-sidebar.png"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/20de04cc53de" title="jianshu"><img src="/images/jianicon-sidebar.png"></a></div><div class="structure category-list"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#render"><span class="toc-number">1.</span> <span class="toc-text">render</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#camera"><span class="toc-number">2.</span> <span class="toc-text">camera</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#light"><span class="toc-number">3.</span> <span class="toc-text">light</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#transformation"><span class="toc-number">4.</span> <span class="toc-text">transformation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#translating"><span class="toc-number">4.1.</span> <span class="toc-text">translating</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scaling"><span class="toc-number">4.2.</span> <span class="toc-text">scaling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rotation"><span class="toc-number">4.3.</span> <span class="toc-text">Rotation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transformation-matrix"><span class="toc-number">4.4.</span> <span class="toc-text">transformation matrix</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sine-Wave"><span class="toc-number">5.</span> <span class="toc-text">Sine Wave</span></a></li></ol></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Daily-Snippets/">Daily Snippets</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a><span class="category-list-count">48</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Notes/">Notes</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Others/">Others</a><span class="category-list-count">14</span></li></ul><div class="tags"><a href="/tags/CI-CD/" style="font-size: 12px; color: #ffac00">CI/CD</a> <a href="/tags/Cache/" style="font-size: 15px; color: #ec9d00">Cache</a> <a href="/tags/ECharts/" style="font-size: 12px; color: #ffac00">ECharts</a> <a href="/tags/Electron/" style="font-size: 12px; color: #ffac00">Electron</a> <a href="/tags/Git/" style="font-size: 12px; color: #ffac00">Git</a> <a href="/tags/JS/" style="font-size: 12px; color: #ffac00">JS</a> <a href="/tags/JSON/" style="font-size: 12px; color: #ffac00">JSON</a> <a href="/tags/Linux/" style="font-size: 12px; color: #ffac00">Linux</a> <a href="/tags/OTHERS/" style="font-size: 12px; color: #ffac00">OTHERS</a> <a href="/tags/Svg/" style="font-size: 12px; color: #ffac00">Svg</a> <a href="/tags/angular/" style="font-size: 15px; color: #ec9d00">angular</a> <a href="/tags/canvas/" style="font-size: 21px; color: #c77e00">canvas</a> <a href="/tags/cordova/" style="font-size: 21px; color: #c77e00">cordova</a> <a href="/tags/domain/" style="font-size: 12px; color: #ffac00">domain</a> <a href="/tags/ffmpeg/" style="font-size: 12px; color: #ffac00">ffmpeg</a> <a href="/tags/financial/" style="font-size: 12px; color: #ffac00">financial</a> <a href="/tags/gitment/" style="font-size: 12px; color: #ffac00">gitment</a> <a href="/tags/hexo/" style="font-size: 18px; color: #da8d00">hexo</a> <a href="/tags/http/" style="font-size: 12px; color: #ffac00">http</a> <a href="/tags/japanese/" style="font-size: 15px; color: #ec9d00">japanese</a> <a href="/tags/js/" style="font-size: 12px; color: #ffac00">js</a> <a href="/tags/markdown/" style="font-size: 12px; color: #ffac00">markdown</a> <a href="/tags/micro-frontend/" style="font-size: 15px; color: #ec9d00">micro_frontend</a> <a href="/tags/mpvue/" style="font-size: 12px; color: #ffac00">mpvue</a> <a href="/tags/mysql/" style="font-size: 12px; color: #ffac00">mysql</a> <a href="/tags/nginx/" style="font-size: 12px; color: #ffac00">nginx</a> <a href="/tags/nodejs/" style="font-size: 12px; color: #ffac00">nodejs</a> <a href="/tags/npm/" style="font-size: 12px; color: #ffac00">npm</a> <a href="/tags/python/" style="font-size: 18px; color: #da8d00">python</a> <a href="/tags/server/" style="font-size: 12px; color: #ffac00">server</a> <a href="/tags/shell/" style="font-size: 12px; color: #ffac00">shell</a> <a href="/tags/threeJs/" style="font-size: 12px; color: #ffac00">threeJs</a> <a href="/tags/translation/" style="font-size: 24px; color: #b46e00">translation</a> <a href="/tags/typescript/" style="font-size: 12px; color: #ffac00">typescript</a> <a href="/tags/vue/" style="font-size: 12px; color: #ffac00">vue</a> <a href="/tags/worker/" style="font-size: 12px; color: #ffac00">worker</a> <a href="/tags/yarn/" style="font-size: 12px; color: #ffac00">yarn</a> <a href="/tags/%E5%8E%9F%E5%9E%8B%E9%93%BE/" style="font-size: 12px; color: #ffac00">原型链</a> <a href="/tags/%E5%9B%BD%E9%99%85%E5%8C%96/" style="font-size: 12px; color: #ffac00">国际化</a> <a href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%BB%9A%E5%8A%A8%E6%9D%A1/" style="font-size: 12px; color: #ffac00">自定义滚动条</a> <a href="/tags/%E8%B7%A8%E5%9F%9F/" style="font-size: 12px; color: #ffac00">跨域</a></div></div><div class="post rightside"><h1 class="artititle">three.js</h1><div class="info"><i class="iconfont iconwenzi" title="字数">554</i><i class="iconfont iconshijian" title="阅读时长">3</i><i class="iconfont iconarchives" title="文章分类"><span>Frontend</span></i><i class="iconfont iconbiaoqian" title="文章标签"><span>threeJs</span></i><i class="iconfont iconshijian"><span title="文章发布时间">2023-09-08</span></i><i class="iconfont iconshijian"><span title="文章更新时间">2025-02-23</span></i></div><div class="postDetail"><p><strong>PBR</strong><br><strong>anti-aliasing</strong> 反锯齿<br><strong>multi-sample anti-aliasing</strong> 多重采样, this is a build-in WebGL method, depending on GPU</p>
<h2 id="render"><a href="#render" class="headerlink" title="render"></a>render</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> WebGLRenderer(&#123;</span><br><span class="line">   <span class="attr">antialias</span>: <span class="literal">true</span>, <span class="comment">// turn on anti-aliasing, to blur the edges of square pixels.</span></span><br><span class="line"> &#125;);</span><br><span class="line"> renderer.physicallyCorrectLights = <span class="literal">true</span>; <span class="comment">// </span></span><br></pre></td></tr></table></figure>

<h2 id="camera"><a href="#camera" class="headerlink" title="camera"></a>camera</h2><blockquote>
<p>two types of camera</p>
</blockquote>
<ul>
<li><strong>perspective projection 透视投影</strong>,  the area in between the <code>Near Clipping Plane</code> and <code>the Far Clipping Plane</code> is the <strong>camera’s viewing frustum</strong>.<ul>
<li>field of view: how wide the camera’s view is, in degrees.</li>
<li>aspect ratio</li>
<li>near: defines the small end of the frustum. anything closer to the camera than this will be invisible.</li>
<li>far: defines the large end of the frustum. anything further away from the camera than this will be invisible.</li>
</ul>
</li>
<li><strong>orthographic projection 正投影</strong></li>
</ul>
<h2 id="light"><a href="#light" class="headerlink" title="light"></a>light</h2><p><strong>Direct lighting</strong>: light rays that come directly from the bulb and hit an object.<br><strong>Indirect lighting</strong>: light rays that have bounced off the walls and other objects in the room before hitting an object, changing color, and losing intensity with each bounce.</p>
<blockquote>
<p>four types of light</p>
</blockquote>
<ul>
<li>DirectionalLight =&gt; Sunlight</li>
<li>PointLight =&gt; Light Bulbs</li>
<li>RectAreaLight =&gt; Strip lighting or bright windows</li>
<li>SpotLight =&gt; Spotlights</li>
</ul>
<h2 id="transformation"><a href="#transformation" class="headerlink" title="transformation"></a>transformation</h2><h3 id="translating"><a href="#translating" class="headerlink" title="translating"></a>translating</h3><ul>
<li>created from <code>Vector3</code> class, stored in the <code>.position</code> property</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mesh.position.x = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">mesh.position.set(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h3 id="scaling"><a href="#scaling" class="headerlink" title="scaling"></a>scaling</h3><ul>
<li><p>created from <code>Vector3</code> class, stored in the <code>.scale</code> property</p>
</li>
<li><p>Use a <code>negative value</code> will mirror the object</p>
</li>
<li><p>Cameras and Lights Cannot be Scaled</p>
</li>
<li><p><code>Uniform Scaling</code>, use the same value for all three axes</p>
</li>
<li><p><code>Non-Uniform Scaling</code>, to scale individual axes</p>
<ul>
<li><code>x</code>, the object will become wider or narrower</li>
<li><code>y</code>, the object will become taller or shorter</li>
<li><code>z</code>,  the depth of the object will be affected</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mesh.scale.x = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">mesh.scale.set(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Rotation"><a href="#Rotation" class="headerlink" title="Rotation"></a>Rotation</h3><ul>
<li><p>Two Rotation Class</p>
<ul>
<li>Using <code>Euler angles</code>, represented using the <code>Euler class</code> and stored in the <code>.rotation</code> property.</li>
<li>Using <code>quaternions</code>, represented using the <code>Quaternion class</code> and stored in the <code>.quaternion</code> property.</li>
<li>the both can be used interchangeably. but in particular, the former has some short comings(like<code>gimbal lock万向锁</code>), while the later is harder to use</li>
</ul>
</li>
<li><p>Angles in three.js are specified using <code>radians</code>, not degrees, except <code>PerspectiveCamera.fov</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; MathUtils &#125; <span class="keyword">from</span> <span class="string">&#x27;three&#x27;</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * convert from degrees to radians.</span></span><br><span class="line"><span class="comment"> * π = Math.PI</span></span><br><span class="line"><span class="comment"> * 360∘ = 2π</span></span><br><span class="line"><span class="comment"> * 90∘ = π/2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> rads = MathUtils.degToRad(<span class="number">90</span>); <span class="comment">// 1.57079... = π/2</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="transformation-matrix"><a href="#transformation-matrix" class="headerlink" title="transformation matrix"></a>transformation matrix</h3><p>stored in the Object3D.matrix property</p>
<ul>
<li><p><code>local matrix and word matrix</code>, the former is relative to parent and stored in the <code>.matrix</code> property, while the later is relative to world space and stored in the <code>.matrixWorld</code> property</p>
</li>
<li><p><code>identity matrix</code>:  all ones on the main diagonal and zeros everywhere else</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>  <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>  <span class="number">0</span>   <span class="number">0</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>  <span class="number">0</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>  <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>matrix of translating and scaling</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mesh.position.x = Tx;</span><br><span class="line">mesh.position.y = Ty;</span><br><span class="line">mesh.position.z = Tz;</span><br><span class="line"></span><br><span class="line">mesh.scale.x = Sx;</span><br><span class="line">mesh.scale.y = Sy;</span><br><span class="line">mesh.scale.z = Sz;</span><br><span class="line"></span><br><span class="line">Sx  <span class="number">0</span>   <span class="number">0</span>   Tx</span><br><span class="line"><span class="number">0</span>   Sy  <span class="number">0</span>   Ty</span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   Sz  Tz</span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>matrix of rotation</code><br>cos(degree) 余弦<br>sin(degree) 正弦</p>
<ul>
<li><p>x-axis</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>       <span class="number">0</span>        <span class="number">0</span>      <span class="number">0</span></span><br><span class="line"><span class="number">0</span>      cos      sin     <span class="number">0</span></span><br><span class="line"><span class="number">0</span>     -sin      cos     <span class="number">0</span></span><br><span class="line"><span class="number">0</span>       <span class="number">0</span>        <span class="number">0</span>      <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>y-axis</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cos    <span class="number">0</span>       sin      <span class="number">0</span></span><br><span class="line"><span class="number">0</span>      <span class="number">1</span>        <span class="number">0</span>       <span class="number">0</span></span><br><span class="line">-sin   <span class="number">0</span>       cos      <span class="number">0</span></span><br><span class="line"><span class="number">0</span>      <span class="number">0</span>        <span class="number">0</span>       <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>z-axis</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cos  -sin   <span class="number">0</span>      <span class="number">0</span></span><br><span class="line">sin   cos   <span class="number">0</span>      <span class="number">0</span></span><br><span class="line"><span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span>      <span class="number">0</span></span><br><span class="line"><span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>      <span class="number">1</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="Sine-Wave"><a href="#Sine-Wave" class="headerlink" title="Sine Wave"></a>Sine Wave</h2></div><link rel="stylesheet" href="/css/partial/footer.css"><div class="footer"><p><span>Copyright © 2017 - 2023</span><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">蜀ICP备19024124号</a></p><p><i class="iconfont iconchakan"><span>本站总访问量</span><span id="busuanzi_container_site_pv">  <span id="busuanzi_value_site_pv"></span> </span></i><i class="iconfont iconabout"><span>本站访客数</span><span id="busuanzi_container_site_uv">  <span id="busuanzi_value_site_uv"></span> </span></i></p></div></div><script> <console class="log" page theme></console></script></div></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>